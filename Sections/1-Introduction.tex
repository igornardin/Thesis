\chapter{Introduction}
\label{chap1}


% Start with a general context;
% General problem;
% Then, DZ2


\section{Context}
% Global warming
% ICT role
% Renewable energy in data centers
% Uncertainties

Global warming is one of the biggest challenges humanity is facing. A recent rapport shows that we are walking toward a global mean temperature increase by 2100 of 2.7°C, well above the 1.5°C defined by the Paris Agreement \cite{tracker2022massive}. The same rapport predicts the rise in mean global temperature will be around 1.8°C even after implementing all announced Paris Agreement goals. Achieving 1.5°C demands an engagement of all sectors to reduce greenhouse gas (GHG) emissions. One significant greenhouse gas (GHG) emitter is the Information and Communications Technology (ICT) sector. It produces around 1.8-2.8\% of the world's total GHG \cite{freitag2021climate}. Inside ICT, Data centers and transmission networks are responsible for nearly 1\% of energy-related GHG emissions \cite{centres2022data}. Due to its uninterrupted operation, the data centers sector is one of the most electricity-expensive ICT actors. A report revealed that Google data centers consumed the same amount of energy as the entire city of San Francisco in 2015 \cite{khan2018exploiting}. In addition, the situation tends to get even worse due to the improvements reduction in processor technologies and the predicted expansion of internet usage \cite{cisco2020cisco, freitag2021climate}.

Big cloud providers such as Google and Amazon are trying to reduce energy consumption and increase the power coming from renewable sources (RES) \cite{Masanet984}. Renewable sources generate energy coming from clean sources such as wind and solar. A significant drawback of RES is they are highly dependent on weather conditions, creating power intermittence. These providers smooth this intermittence by not migrating entirely to RES, maintaining a connection to the grid. Therefore, they are not 100\% clean. A renewable-only data center must consider this intermittence in its decision-making. 

\section{Problem Statement}
% How to deal with these uncertainties

% A way to reduce this intermittence is by adding storage elements. Batteries and hydrogen tanks can store energy when power production is high, allowing the data center to use it when the generation is low. These storages add a new decision level related to store/expend actions. For example, it can store energy during the day using at night. Nevertheless, the demand during the day could be higher than at night.

\section{Research Goals}
% Find the algorithms to deal with the uncertainties, improving QoS

\section{Summary of Contributions}

\section{Publications and Communication}

\textbf{Submitted Peer Reviewed Conferences:}
\begin{itemize}
    \item I. F. de Nardin, P. Stolf and S. Caux, "Adding Battery Awareness in EASY Backfilling" 2023 IEEE 35th International Symposium on Computer Architecture and High Performance Computing (SBAC-PAD), Porto Alegre, Brazil, 2023.
\end{itemize}

\textbf{Accepted Peer Reviewed Conferences:}
\begin{itemize}
    \item I. F. de Nardin, P. Stolf and S. Caux, "Analyzing Power Decisions in Data Center Powered by Renewable Sources", 2022 IEEE 34th International Symposium on Computer Architecture and High Performance Computing (SBAC-PAD), Bordeaux, France, 2022, pp. 305-314;
    \item I. F. de Nardin, P. Stolf and S. Caux, "Evaluation of Heuristics to Manage a Data Center Under Power Constraints", 2022 IEEE 13th International Green and Sustainable Computing Conference (IGSC), Pittsburgh, PA, USA, 2022, pp. 1-8;
    \item I. F. de Nardin, P. Stolf and S. Caux, "Mixing Offline and Online Electrical Decisions in Data Centers Powered by Renewable Sources", IECON 2022 – 48th Annual Conference of the IEEE Industrial Electronics Society, Brussels, Belgium, 2022, pp. 1-6;
    \item  I. F. de Nardin, P. Stolf and S. Caux, "Smart Heuristics for Power Constraints in Data Centers Powered by Renewable Sources", Conférence francophone d'informatique en Parallélisme, Architecture et Système (COMPAS 2022), Jul 2022, Amiens, France. paper 7.
\end{itemize}

\textbf{Others Disseminations:}
\begin{itemize}
    \item Talk: Analyzing Power Decisions in Data Center
    Powered by Renewable Sources, GreenDays@Lyon, March 2023.
\end{itemize}

\section{Dissertation Outline}
The remaining dissertation has the following organization:
\begin{itemize}
    \item[] \textbf{Chapter 2 - Context and Related Work:} This chapter presents the fundamentals to understand this dissertation. Considering the scope of the topic, the context consists of four parts. First, we introduce the context of global and ICT GHG emissions. Then, we describe renewable energy as an alternative to replace brown energy. After, we explain the usage of renewable to power a data center. Then, we define the uncertainties of weather and workload in a renewable-only data center. This last part also clarifies the importance of using predictions but with an online adaptation. After presenting the context, we introduce a list of works that solve part of our problem, highlighting the existing gaps in the state-of-the-art;
    \item[] \textbf{Chapter 3 - Modelling, Data, and Simulation:} In this chapter, we describe the model to deal with the several elements that compose a renewable-only data center. Datazero2 creates a division between Offline and Online decisions. We present the model to deal with offline decisions using predicted power demand and production. Then, we demonstrate the output of Offline used by the Online. Finally, we define the Online model, which englobes the job scheduling and modifications in the Offline plan. After describing the model, we explain the source of the different data (e.g., workload, weather, servers) applied in the simulations. We present an explanation of the work done in the traces of the literature. Finally, we present the simulation tools used in this work;
    \item[] \textbf{Chapter 4 - Introducing Power Compensations:} This chapter describes the proposed optimization to react to power uncertainties. We created four heuristics to find the best place to compensate for battery changes, which aim to reduce the number of killed jobs and the distance between the battery level and the target level. The results presented are related to the publications \cite{de2022mixing} and \cite{de2022analyzing};
    \item[] \textbf{Chapter 5 - Learning Power Compensations:} This chapter presents the idea and the results of the introduction of Reinforcement Learning (RL) in the power compensation problem. We propose two RL algorithms (Q-Learning and Contextual Multi-Armed Bandit) to learn the best moment to compensate;
    \item[] \textbf{Chapter 6 - Adding Battery Awareness in EASY Backfilling:} This chapter explains a heuristic to mix scheduling and power compensation decisions. This heuristic is based on the EASY Backfilling scheduling algorithm but considers the battery's State of Charge to make better decisions;
    % \item[] \textbf{Chapter 7 - Middleware Integration:} This chapter presents the tools, frameworks, and approaches applied to integrate the algorithms in the Datazero2 middleware. Also, we describe the work done to create a docker environment, allowing different actors to execute the middleware;
    \item[] \textbf{Chapter 7 - Conclusion and Perspectives:} Finally, in this chapter, we summarize the contributions of this work, providing a discussion about future works.
\end{itemize}
